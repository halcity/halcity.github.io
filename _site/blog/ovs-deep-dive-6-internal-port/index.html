<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"><![endif]-->
<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8" <![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9" <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->

<head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
       new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
       j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
       'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
       })(window,document,'script','dataLayer','GTM-WP54B9K');</script>
    <!-- End Google Tag Manager -->

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <title>OVS Deep Dive 6: Internal Port</title>

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/assets/img/favicon.ico" />

    <!-- Come and get me RSS readers -->
    <link rel="alternate" type="application/rss+xml" title="ArthurChiao's Blog" href="http://0.0.0.0:4000/feed.xml" />
    
    <!-- Stylesheet -->
    <link rel="stylesheet" href="/assets/css/style.css">
    <!--[if IE 8]><link rel="stylesheet" href="/assets/css/ie.css"><![endif]-->
    <link rel="canonical" href="http://0.0.0.0:4000/blog/ovs-deep-dive-6-internal-port/">

    <!-- Modernizr -->
    <script src="/assets/js/modernizr.custom.15390.js" type="text/javascript"></script>

    
</head>


<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WP54B9K"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

    <div class="header">
     <div class="container">
         <h1 class="logo"><a href="/">ArthurChiao's Blog</a></h1>
         <nav class="nav-collapse">
             <ul class="noList">
                 
                   
                   
                   <li class="element first  ">
                     <a href="/index.html">Home</a>
                   </li> 
                 
                   
                   
                   <li class="element   ">
                     <a href="/articles">Articles</a>
                   </li> 
                 
                   
                   
                   <li class="element   ">
                     <a href="/articles-zh">Articles (中文)</a>
                   </li> 
                 
                   
                   
                   <li class="element   ">
                     <a href="/categories">Categories</a>
                   </li> 
                 
                   
                   
                   <li class="element   last">
                     <a href="/about">About</a>
                   </li> 
                 
                 <!-- <li> <a href="https://github.com/arthurchiao/reading" target="_blank">Reading</a></li> -->
                 <!-- <li> <a href="https://github.com/arthurchiao/" target="_blank">GitHub</a></li> -->
             </ul>
         </nav>
     </div>
 </div><!-- end .header -->


   <div class="content">
      <div class="container">
         <div class="post">
  
  <h1 class="postTitle">OVS Deep Dive 6: Internal Port</h1>
  <p class="meta">2017-03-08 | <span class="time">24</span> Minute Read</p>

  
  
  <p>This post makes an exploration into OVS <code class="highlighter-rouge">internal port</code>.</p>

<h2 id="1-bridge">1. Bridge</h2>

<p>A bridge is a self-learning L2 forwarding device.
<a href="https://en.wikipedia.org/wiki/IEEE_802.1D">IEEE 802.1D</a> describes the bridge
definition.</p>

<p>Bridge maintains a forwarding table, which stores <code class="highlighter-rouge">{src_mac, in_port}</code> pairs,
and forwards packets (more accurately, frames) based on <code class="highlighter-rouge">dst_mac</code>.</p>

<p>For example, when a packet with <code class="highlighter-rouge">src_mac=ff:00:00:00:01</code> enters the bridge
through port 1 (<code class="highlighter-rouge">in_port=1</code>), the bridge learns that host <code class="highlighter-rouge">ff:00:00:00:01</code>
connected to it via port 1. Then it will add (if the entry is not cached yet) an
entry <code class="highlighter-rouge">src_mac=ff:00:00:00:01, in_port=1</code> into its forwarding table.  After
that, if a packet with <code class="highlighter-rouge">dst_mac=ff:00:00:00:01</code> enters bridge, it decides that
this packet is intended for host <code class="highlighter-rouge">ff:00:00:00:01</code>, and that host is connected to
it via port 1, so it should be forwarded to port 1.</p>

<p align="center"><img src="/assets/img/ovs-deep-dive/connect_via_bridge.jpg" width="45%" height="45%" /></p>
<p align="center">Fig.1.1 Hosts connected by a bridge</p>

<p>From the forwarding process we could see, <strong>a hypothetical bridge works entirely in L2</strong>.
But in real environments, a bridge is always configured with an IP address.
This seems a paradox: <strong>why we configure a L2 device with an IP address?</strong></p>

<p>The reason is that for real a bridge, it must provide some remote management
abilities to be practically useful.
So there must be an access port that we could control the bridge (e.g.
restart) remotely.</p>

<p>Access ports are IP based, so it is <strong>L3 ports</strong>. This is is different from
other ports which just work in L2 for traffic forwarding - for the latter
no IPs are configured on them, they are <strong>L2 ports</strong>.</p>

<p><strong>L2 ports works in dataplane (DP), for traffic forwarding; L3 ports works in
control plane (CP), for management.</strong> They are different physical ports.</p>

<h2 id="2-linux-bridge">2. Linux Bridge</h2>

<p>Linux bridge is a software bridge, it implements a subset of the ANSI/IEEE
802.1d standard.  It manages both physical NICs on the host, as well as virutal
devices, e.g. tap devices.</p>

<p>Physical port managed by Linux bridge are all dataplane ports (<strong>L2 ports</strong>),
they just forward packets inside the bridge. We’ve mentioned that L2 ports do
not have IPs configured on them.</p>

<p>So a problem occurs when all the physical ports are added to the linux bridge:
<strong>the host loses connection!</strong></p>

<p>To keep the host reachable, there are two solutions:</p>

<ul>
  <li>leave at least one physical port as accessing port</li>
  <li>use virtual accessing port</li>
</ul>

<h3 id="21-solution-1-physical-access-port">2.1 Solution 1: Physical Access Port</h3>

<p align="center"><img src="/assets/img/ovs-deep-dive/phy_access_port.png" /></p>
<p align="center">Fig.2.1 Physical Access Port</p>

<p>In this solution, a physical port is reserved for host accessing, and not
connected to Linux bridge. It will be configured with an IP (thus L3 port),
and all CP traffic will be transmited through it. Other ports are connected
to Linux bridge (L2 ports), for DP forwarding.</p>

<p><strong>pros:</strong></p>

<ul>
  <li>
    <p>CP/DP traffic isolation</p>
  </li>
  <li>
    <p>robustness</p>

    <p>even linux bridge misbehaves (e.g. crash), the host is still accessible</p>
  </li>
</ul>

<p><strong>cons:</strong></p>

<ul>
  <li>
    <p>resource under-utilized</p>

    <p>the access port is dedicated for accessing, which is wasteful</p>
  </li>
</ul>

<h3 id="22-solution-2-virtual-accessing-port">2.2 Solution 2: Virtual Accessing Port</h3>

<p align="center"><img src="/assets/img/ovs-deep-dive/virtual_access_port.png" /></p>
<p align="center">Fig.2.2 Virtual Access Port</p>

<p>In this solution, a virtual port is created on the host, and configured with
an IP address, used as accessing port. Since all physical ports are connected
to Linux host, to make this accessing port reachable from outside, it has to
connected to Linux bridge, too!</p>

<p>Then, some triky things come.</p>

<p>First, CP traffic, will also be sent/received through DP ports, as
physical ports are the only places that could interact with outside, and all
physical ports are DP ports.</p>

<p>Secondly, all egress packets of this host, are with source MAC that is none of
the physical port MACs. For example, if you ping this host,
the ICPM reply packet will be sent out from one of the physical ports, <strong>but</strong>,
the source MAC of this packet is not the MAC of the physical port via which it
is sent out.</p>

<p>We will verify this later. Now let’s continue to OVS - a more powerful software
bridge.</p>

<h2 id="3-ovs-internal-port">3. OVS <code class="highlighter-rouge">internal port</code></h2>

<p>OVS is more powerful bridge than linux bridge, but since it is
still a L2 bridge, some general bridge conventions it has to conform to.</p>

<p>Among those basic rules, one is that it should provide the ability to hold an IP
for an OVS bridge: to be more clear, it should provide a similar functionality as
Linux bridge’s virtual accessing port does. With this functionality, even if
all physical port are added
to OVS bridge, the host could still be accessible from outside (as we
discussed in secion 2, without this, the host will
lose connection).</p>

<p>OVS <code class="highlighter-rouge">internal port</code> is just for this purpose.</p>

<h3 id="31-usage">3.1 Usage</h3>

<p>When creating an <code class="highlighter-rouge">internal port</code> on OVS bridge, an IP could be configured on it,
and the host is accessible by this IP address.  Ordinary OVS users should not
worry about the implementation details, they just need to know that <code class="highlighter-rouge">internal
ports</code> act similar as linux tap devices.</p>

<p>Create an internal port <code class="highlighter-rouge">vlan1000</code> on bridge <code class="highlighter-rouge">br0</code>, and configure
and IP on it:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ovs-vsctl add-port br0 vlan1000 <span class="nt">--</span> <span class="nb">set </span>Interface vlan1000 <span class="nb">type</span><span class="o">=</span>internal

<span class="nv">$ </span>ifconfig vlan1000

<span class="nv">$ </span>ifconfig vlan1000 &lt;ip&gt; netmask &lt;mask&gt; up
</code></pre></div></div>

<h3 id="32-some-experiments">3.2 Some Experiments</h3>

<p>We have <strong><em>hostA</em></strong>, and
the OVS bridge on <strong><em>hostA</em></strong> looks like this:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root@hostA <span class="c"># ovs-vsctl show</span>
ce8cf3e9-6c97-4c83-9560-1082f1ae94e7
    Bridge br-bond
        Port br-bond
            Interface br-bond
                <span class="nb">type</span>: internal
        Port <span class="s2">"vlan1000"</span>
            tag: 1000
            Interface <span class="s2">"vlan1000"</span>
                <span class="nb">type</span>: internal
        Port <span class="s2">"bond1"</span>
            Interface <span class="s2">"eth1"</span>
            Interface <span class="s2">"eth0"</span>
    ovs_version: <span class="s2">"2.3.1"</span>
</code></pre></div></div>

<p>Two physical ports <em>eth0</em> and <em>eth1</em> is added to the bridge (bond), two internal
ports <em>br-bond</em> (the default one of this bridge, not used) and <em>vlan1000</em> (we
created it).  We make <em>vlan1000</em> as the accessing port of this host by
configuring an IP address on it:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root@hostA <span class="c"># ifconfig vlan1000 10.18.138.168 netmask 255.255.255.0 up</span>

root@hostA <span class="c"># ifconfig vlan1000</span>
vlan1000  Link encap:Ethernet  HWaddr a6:f2:f7:d0:1d:e6  
          inet addr:10.18.138.168  Bcast:10.18.138.255  Mask:255.255.255.0
</code></pre></div></div>

<p>ping <strong><em>hostA</em></strong> from another host <strong><em>hostB</em></strong> (with IP 10.32.4.123), capture
 the packets on <strong><em>hostA</em></strong> and show the MAC address
of L2 frames:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root@hostA <span class="c"># tcpdump -e -i vlan1000 'icmp'</span>
tcpdump: verbose output suppressed, use <span class="nt">-v</span> or <span class="nt">-vv</span> <span class="k">for </span>full protocol decode
listening on vlan1000, link-type EN10MB <span class="o">(</span>Ethernet<span class="o">)</span>, capture size 65535 bytes
10:28:24.176777 64:f6:9d:5a:bd:13 <span class="o">(</span>oui Unknown<span class="o">)</span> <span class="o">&gt;</span> a6:f2:f7:d0:1d:e6 <span class="o">(</span>oui Unknown<span class="o">)</span>, ethertype IPv4 <span class="o">(</span>0x0800<span class="o">)</span>, length 74: 10.32.4.123 <span class="o">&gt;</span> 10.18.138.168: ICMP <span class="nb">echo </span>request, <span class="nb">id </span>1, <span class="nb">seq </span>1742, length 40
10:28:24.176833 a6:f2:f7:d0:1d:e6 <span class="o">(</span>oui Unknown<span class="o">)</span> <span class="o">&gt;</span> aa:bb:cc:dd:ee:ff <span class="o">(</span>oui Unknown<span class="o">)</span>, ethertype IPv4 <span class="o">(</span>0x0800<span class="o">)</span>, length 74: 10.18.138.168 <span class="o">&gt;</span> 10.32.4.123: ICMP <span class="nb">echo </span>reply, <span class="nb">id </span>1, <span class="nb">seq </span>1742, length 40
10:28:25.177262 64:f6:9d:5a:bd:13 <span class="o">(</span>oui Unknown<span class="o">)</span> <span class="o">&gt;</span> a6:f2:f7:d0:1d:e6 <span class="o">(</span>oui Unknown<span class="o">)</span>, ethertype IPv4 <span class="o">(</span>0x0800<span class="o">)</span>, length 74: 10.32.4.123 <span class="o">&gt;</span> 10.18.138.168: ICMP <span class="nb">echo </span>request, <span class="nb">id </span>1, <span class="nb">seq </span>1743, length 40
10:28:25.177294 a6:f2:f7:d0:1d:e6 <span class="o">(</span>oui Unknown<span class="o">)</span> <span class="o">&gt;</span> aa:bb:cc:dd:ee:ff <span class="o">(</span>oui Unknown<span class="o">)</span>, ethertype IPv4 <span class="o">(</span>0x0800<span class="o">)</span>, length 74: 10.18.138.168 <span class="o">&gt;</span> 10.32.4.123: ICMP <span class="nb">echo </span>reply, <span class="nb">id </span>1, <span class="nb">seq </span>1743, length 40
</code></pre></div></div>

<p>We could see that the <strong>source MAC (<code class="highlighter-rouge">a6:f2:f7:d0:1d:e6</code>) of ICMP echo reply
packets</strong> is just the <strong>vlan1000’s address, not eth0 or eth1’s - although the
packets will be sent out from either eth0, or eth1</strong>. What this implies is that,
from the outside view, <strong><em>hostA</em></strong> is seen to have only one interface with
MAC address <code class="highlighter-rouge">a6:f2:f7:d0:1d:e6</code>, and no matter how many physical ports are on
<strong><em>hostA</em></strong>, as long as they are managed by the OVS (or linux bridge), these
physical ports will never be seen from the outside.</p>

<p align="center"><img src="/assets/img/ovs-deep-dive/bridge_managed_host_outside_view.png" /></p>
<p align="center">Fig.2.3 Outside L2/L3 View of Bridge Managed Host: Only L3 ports could be seen</p>

<h3 id="33-implementation-todo-update">3.3 Implementation (TODO: update)</h3>

<p>In the underlying, the <code class="highlighter-rouge">internal port</code> is implemented through <code class="highlighter-rouge">tap</code> interface.</p>

<p>Quota some info from [1,2,3]:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">The</span> <span class="n">internal</span> <span class="n">interface</span> <span class="k">and</span> <span class="n">port</span> <span class="k">in</span> <span class="n">each</span> <span class="n">bridge</span> <span class="n">is</span> <span class="n">both</span> <span class="n">an</span> <span class="n">implementation</span>
<span class="n">requirem</span> <span class="n">ent</span> <span class="k">and</span> <span class="nb">exists</span> <span class="n">for</span> <span class="n">historical</span> <span class="n">reasons</span> <span class="n">relating</span> <span class="k">to</span> <span class="n">the</span> <span class="n">implementation</span> <span class="k">of</span>
<span class="n">Linux</span> <span class="n">bridging</span> <span class="n">module</span><span class="p">.</span>

<span class="n">The</span> <span class="n">purpose</span> <span class="n">is</span> <span class="k">to</span> <span class="n">hold</span> <span class="n">the</span> <span class="n">IP</span> <span class="n">for</span> <span class="n">the</span> <span class="n">bridge</span> <span class="n">itself</span> <span class="p">(</span><span class="n">just</span> <span class="n">like</span> <span class="n">some</span> <span class="n">physical</span>
<span class="n">bridges</span> <span class="k">do</span><span class="p">).</span> <span class="n">This</span> <span class="n">is</span> <span class="n">also</span> <span class="n">useful</span> <span class="k">in</span> <span class="n">cases</span> <span class="n">where</span> <span class="n">a</span> <span class="n">bridge</span> <span class="n">has</span> <span class="n">a</span> <span class="n">physical</span>
<span class="n">interface</span> <span class="n">that</span> <span class="n">would</span> <span class="n">normally</span> <span class="n">have</span> <span class="n">its</span> <span class="n">own</span> <span class="n">IP</span><span class="p">.</span> <span class="n">Since</span> <span class="n">assigning</span> <span class="n">a</span> <span class="n">port</span> <span class="k">to</span> <span class="n">an</span> <span class="n">IP</span>
<span class="n">wouldn</span><span class="s1">'t happen in a physical bridge, assigning an IP to the physical interface
would be incorrect, as packets would stop at the port and not be passed across
the bridge.

A physical Ethernet device that is part of an Open vSwitch bridge should not
have an IP address. You can restore functionality by moving the IP address to an
Open vSwitch "internal" device, such as the network device named after the
bridge itself.

There is no compelling reason why Open vSwitch must work this way. However, this
is the way that the Linux kernel bridge module has always worked, so it'</span><span class="n">s</span> <span class="n">a</span>
<span class="k">model</span> <span class="n">that</span> <span class="n">those</span> <span class="n">accustomed</span> <span class="k">to</span> <span class="n">Linux</span> <span class="n">bridging</span> <span class="n">are</span> <span class="n">already</span> <span class="n">used</span> <span class="k">to</span><span class="p">.</span> <span class="n">Also</span><span class="p">,</span> <span class="n">the</span>
<span class="k">model</span> <span class="n">that</span> <span class="n">most</span> <span class="n">people</span> <span class="n">expect</span> <span class="n">is</span> <span class="k">not</span> <span class="n">implementable</span> <span class="n">without</span> <span class="n">kernel</span> <span class="n">changes</span> <span class="n">on</span> <span class="n">all</span>
<span class="n">the</span> <span class="n">versions</span> <span class="k">of</span> <span class="n">Linux</span> <span class="n">that</span> <span class="n">Open</span> <span class="n">vSwitch</span> <span class="n">supports</span><span class="p">.</span>
</code></pre></div></div>

<h2 id="4-advanced-usage-interanl-port-as-container-vnic">4. Advanced Usage: <code class="highlighter-rouge">interanl port</code> as Container vNIC</h2>

<p>You could create multiple internal ports on one OVS bridge, and more
importantly, since <code class="highlighter-rouge">internal port</code> is L3-accessible from outside and
socket-based (thus kernel stack based), it could be
used as virtual NIC, for VM or containers.</p>

<p>As containers have their own network namespaces, we could not connect container
to OVS directly, the latter works in the default namespace. The typical way to
solve this is to create a veth pair: move one end to container, and the other
 end attached to OVS.</p>

<p align="center"><img src="/assets/img/ovs-deep-dive/container_default_connection.png" /></p>
<p align="center">Fig.4.1 Connect to OVS via veth pair</p>

<p>This is simple and straitforward in concept, but will suffer from performance
issues. Could container
be connected to OVS directly? The answer is yes! We will use <code class="highlighter-rouge">internal port</code> to
accomplish this.</p>

<p align="center"><img src="/assets/img/ovs-deep-dive/container_connect_via_ovs_internal_port.png" /></p>
<p align="center">Fig.4.2 Connect to OVS via OVS Internal Port</p>

<h3 id="41-connect-container-to-ovs-via-ovs-internal-port">4.1 Connect container to OVS via OVS Internal Port</h3>

<p>The main steps are as follows:</p>

<ol>
  <li>get the container’s network namespace, e.g. <code class="highlighter-rouge">ns1</code></li>
  <li>create an OVS internal port e.g. with name <code class="highlighter-rouge">tap_1</code></li>
  <li>move <code class="highlighter-rouge">tap_1</code> from default namespace to container’s namespace <code class="highlighter-rouge">ns1</code></li>
  <li>disable the default network deive in <code class="highlighter-rouge">ns1</code>, mostly probably, this is
named <code class="highlighter-rouge">eth0</code></li>
  <li>configure IP for <code class="highlighter-rouge">tap_1</code>, set it as the default network device of <code class="highlighter-rouge">ns1</code>, add
default route</li>
  <li>FINISH</li>
</ol>

<p>I encapsulated the above procedures into scripts, here is the steps with this
scripts:</p>

<p><strong><em>connect container to ovs via ovs <code class="highlighter-rouge">internal port</code></em></strong></p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>     |------------------------|    |------------------------|
     |       container1       |    |       container2       |
     |                        |    |                        |
     |   eth0   tap1  lo      |    |   eth0   tap2  lo      |
     |-----------|------------|    |-----------|------------|
                 |                             |
                 |                             |  container<span class="s1">'s network namespace
-----------------|-----------------------------|------------------------------
                 |                             |  default network namespace
                 |                             |
                 ---------------OVS-------------
                                 |
                               ------
                              /      \
                             |        |
                 (physical) eth0      eth1 (physical)
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 1. create two containers</span>
<span class="nv">$ </span>./run-containers.sh centos_1 centos_2

<span class="c"># 2. show container netns IDs, we will use these later</span>
<span class="nv">$ </span>./expose_container_netns.sh centos_1
&lt;netns1&gt;

<span class="nv">$ </span>./expose_container_netns.sh centos_2
&lt;netns2&gt;

<span class="c"># 3. add a tap device to each container, the tap is on OVS and has type=internal</span>
<span class="nv">$ </span>./add-tap-to-container.sh centos_1 tap1 br0
<span class="nv">$ </span>./add-tap-to-container.sh centos_2 tap2 br0

<span class="c"># 4. configure ip address, add default route</span>
<span class="nv">$ </span>ip netns <span class="nb">exec</span> &lt;netns1&gt; ifconfig tap1 &lt;ip1&gt; netmask &lt;netmask&gt; up
<span class="nv">$ </span>ip netns <span class="nb">exec</span> &lt;netns1&gt; route add default gw &lt;gw&gt; dev tap1

<span class="nv">$ </span>ip netns <span class="nb">exec</span> &lt;netns2&gt; ifconfig tap2 &lt;ip2&gt; netmask &lt;netmask&gt; up
<span class="nv">$ </span>ip netns <span class="nb">exec</span> &lt;netns2&gt; route add default gw &lt;gw&gt; dev tap2

<span class="c"># 5. disable eth0</span>
<span class="nv">$ </span>ip netns <span class="nb">exec</span> &lt;netns1&gt; ifconfig eth0 down
<span class="nv">$ </span>ip netns <span class="nb">exec</span> &lt;netns2&gt; ifconfig eth0 down

<span class="c"># 6. verify connectivity</span>
<span class="nv">$ </span>./attach-container.sh centos_1
root@&lt;centos_1&gt;#: ping &lt;centos_2 ip&gt;

</code></pre></div></div>

<h3 id="42-performance-comparison-todo-update">4.2 Performance Comparison (TODO: update)</h3>

<p>Connect to OVS via internal port achieves (<strong><em>slightly?</em></strong>) better performance
than via veth-pair.</p>

<h2 id="references">References</h2>
<ol>
  <li>https://ask.openstack.org/en/question/4276/what-is-the-internal-interface-and-port-for-on-openvswitch/</li>
  <li>https://mail.openvswitch.org/pipermail/ovs-discuss/2013-August/030855.html</li>
  <li>http://blog.scottlowe.org/2012/10/30/running-host-management-on-open-vswitch/</li>
  <li>https://wiki.linuxfoundation.org/networking/bridge</li>
</ol>


  <!-- POST NAVIGATION -->
  <div class="postNav clearfix">
     
      <a class="prev" href="/blog/ovs-deep-dive-5-datapath-tx-offloading/"><span>&laquo;&nbsp;OVS Deep Dive 5: Datapath and TX Offloading</span>
      
    </a>
      
      
      <a class="next" href="/blog/gratuitous-arp-cn-zh/"><span>免费ARP (Gratuitous ARP)&nbsp;&raquo;</span>
       
      </a>
     
  </div>
</div>


         

      </div>
   </div><!-- end .content -->

   <div class="footer">
   <div class="container">
      <p class="copy">&copy; 2016-2019
      <a href="https://arthurchiao.github.io">Arthur Chiao</a>, Powered by
      <a href="http://jekyllrb.com">Jekyll </a>, Theme originated from
      <a href="https://github.com/brianmaierjr/long-haul"> Long Haul.</a>

      <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
      <span id="busuanzi_container_site_pv"> Site visits:
          <span id="busuanzi_value_site_pv"></span>, powered by<a href="http://busuanzi.ibruce.info/"> busuanzi</a>
      </span>

      </p>

      <div class="footer-links"> 
         <ul class="noList"> 
            
            <li><a href="https://www.facebook.com/profile.php?id=100014334455077">
                  <svg id="facebook-square" class="custom-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" style="height: 30px; width: 30px;"><circle class="outer-shape" cx="50" cy="50" r="48" style="opacity: 1;"></circle>
                  <path class="inner-shape" style="opacity: 1;" transform="translate(25,25) scale(0.5)" d="M82.667,1H17.335C8.351,1,1,8.351,1,17.336v65.329c0,8.99,7.351,16.335,16.334,16.335h65.332 C91.652,99.001,99,91.655,99,82.665V17.337C99,8.353,91.652,1.001,82.667,1L82.667,1z M84.318,50H68.375v42.875H50V50h-8.855V35.973 H50v-9.11c0-12.378,5.339-19.739,19.894-19.739h16.772V22.3H72.967c-4.066-0.007-4.57,2.12-4.57,6.078l-0.023,7.594H86.75 l-2.431,14.027V50z"></path>
                  </svg>
            </a></li>
            
            
            <li><a href="https://linkedin.com/in/yanan-zhao-7691317b?trk=hp-identity-photo">
                  <svg id="linkedin" class="custom-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" style="height: 30px; width: 30px;"><circle class="outer-shape" cx="50" cy="50" r="48" style="opacity: 1;"></circle>
                  <path class="inner-shape" style="opacity: 1;" transform="translate(25,25) scale(0.5)" d="M99.001,19.428c-3.606,1.608-7.48,2.695-11.547,3.184c4.15-2.503,7.338-6.466,8.841-11.189 c-3.885,2.318-8.187,4-12.768,4.908c-3.667-3.931-8.893-6.387-14.676-6.387c-11.104,0-20.107,9.054-20.107,20.223 c0,1.585,0.177,3.128,0.52,4.609c-16.71-0.845-31.525-8.895-41.442-21.131C6.092,16.633,5.1,20.107,5.1,23.813 c0,7.017,3.55,13.208,8.945,16.834c-3.296-0.104-6.397-1.014-9.106-2.529c-0.002,0.085-0.002,0.17-0.002,0.255 c0,9.799,6.931,17.972,16.129,19.831c-1.688,0.463-3.463,0.71-5.297,0.71c-1.296,0-2.555-0.127-3.783-0.363 c2.559,8.034,9.984,13.882,18.782,14.045c-6.881,5.424-15.551,8.657-24.971,8.657c-1.623,0-3.223-0.096-4.796-0.282 c8.898,5.738,19.467,9.087,30.82,9.087c36.982,0,57.206-30.817,57.206-57.543c0-0.877-0.02-1.748-0.059-2.617 C92.896,27.045,96.305,23.482,99.001,19.428z"></path>
                  </svg>
            </a></li>
            
            
            <li><a href="https://github.com/ArthurChiao">
                  <svg id="github" class="custom-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" style="height: 30px; width: 30px;"><circle class="outer-shape" cx="50" cy="50" r="48" style="opacity: 1;"></circle>
                  <path class="inner-shape" style="opacity: 1;" transform="translate(25,25) scale(0.5)" d="M50,1C22.938,1,1,22.938,1,50s21.938,49,49,49s49-21.938,49-49S77.062,1,50,1z M79.099,79.099 c-3.782,3.782-8.184,6.75-13.083,8.823c-1.245,0.526-2.509,0.989-3.79,1.387v-7.344c0-3.86-1.324-6.699-3.972-8.517 c1.659-0.16,3.182-0.383,4.57-0.67c1.388-0.287,2.855-0.702,4.402-1.245c1.547-0.543,2.935-1.189,4.163-1.938 c1.228-0.75,2.409-1.723,3.541-2.919s2.082-2.552,2.847-4.067s1.372-3.334,1.818-5.455c0.446-2.121,0.67-4.458,0.67-7.01 c0-4.945-1.611-9.155-4.833-12.633c1.467-3.828,1.308-7.991-0.478-12.489l-1.197-0.143c-0.829-0.096-2.321,0.255-4.474,1.053 c-2.153,0.798-4.57,2.105-7.249,3.924c-3.797-1.053-7.736-1.579-11.82-1.579c-4.115,0-8.039,0.526-11.772,1.579 c-1.69-1.149-3.294-2.097-4.809-2.847c-1.515-0.75-2.727-1.26-3.637-1.532c-0.909-0.271-1.754-0.439-2.536-0.503 c-0.782-0.064-1.284-0.079-1.507-0.048c-0.223,0.031-0.383,0.064-0.478,0.096c-1.787,4.53-1.946,8.694-0.478,12.489 c-3.222,3.477-4.833,7.688-4.833,12.633c0,2.552,0.223,4.889,0.67,7.01c0.447,2.121,1.053,3.94,1.818,5.455 c0.765,1.515,1.715,2.871,2.847,4.067s2.313,2.169,3.541,2.919c1.228,0.751,2.616,1.396,4.163,1.938 c1.547,0.543,3.014,0.957,4.402,1.245c1.388,0.287,2.911,0.511,4.57,0.67c-2.616,1.787-3.924,4.626-3.924,8.517v7.487 c-1.445-0.43-2.869-0.938-4.268-1.53c-4.899-2.073-9.301-5.041-13.083-8.823c-3.782-3.782-6.75-8.184-8.823-13.083 C9.934,60.948,8.847,55.56,8.847,50s1.087-10.948,3.231-16.016c2.073-4.899,5.041-9.301,8.823-13.083s8.184-6.75,13.083-8.823 C39.052,9.934,44.44,8.847,50,8.847s10.948,1.087,16.016,3.231c4.9,2.073,9.301,5.041,13.083,8.823 c3.782,3.782,6.75,8.184,8.823,13.083c2.143,5.069,3.23,10.457,3.23,16.016s-1.087,10.948-3.231,16.016 C85.848,70.915,82.88,75.317,79.099,79.099L79.099,79.099z"></path>
                  </svg>
            </a></li>
             
            
            <li><a href="mailto:arthurchiao@hotmail.com">
                  <svg id="mail" class="custom-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" style="height: 30px; width: 30px;"><circle class="outer-shape" cx="50" cy="50" r="48" style="opacity: 1;"></circle>
                  <path class="inner-shape" style="opacity: 1;" transform="translate(25,25) scale(0.5)" d="M50,1C22.938,1,1,22.938,1,50s21.938,49,49,49s49-21.938,49-49S77.062,1,50,1z M25.5,25.5h49 c0.874,0,1.723,0.188,2.502,0.542L50,57.544L22.998,26.041C23.777,25.687,24.626,25.499,25.5,25.5L25.5,25.5z M19.375,68.375v-36.75 c0-0.128,0.005-0.256,0.014-0.383l17.96,20.953L19.587,69.958C19.448,69.447,19.376,68.916,19.375,68.375L19.375,68.375z M74.5,74.5 h-49c-0.541,0-1.072-0.073-1.583-0.212l17.429-17.429L50,66.956l8.653-10.096l17.429,17.429C75.572,74.427,75.041,74.5,74.5,74.5 L74.5,74.5z M80.625,68.375c0,0.541-0.073,1.072-0.211,1.583L62.652,52.195l17.96-20.953c0.008,0.127,0.014,0.255,0.014,0.383 L80.625,68.375L80.625,68.375z"></path>
                  </svg>
            </a></li>
            
         </ul>
      </div>
   </div>
</div><!-- end .footer -->

   <!-- Add jQuery and other scripts -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src=""><\/script>')</script>
<script src="/assets/js/dropcap.min.js"></script>
<script src="/assets/js/responsive-nav.min.js"></script>
<script src="/assets/js/scripts.js"></script>


</body>

</html>
